<?php
 namespace Mgt\Varnish\Model\Observer; use Magento\Framework\Event\ObserverInterface; class InvalidateObserver implements ObserverInterface { protected $config; protected $purgeCache; public function __construct(\Magento\PageCache\Model\Config $config, \Magento\CacheInvalidate\Model\PurgeCache $purgeCache) { $this->config = $config; $this->purgeCache = $purgeCache; } public function execute(\Magento\Framework\Event\Observer $observer) { goto ff5df; b514f: if (!($cacheType == \Magento\PageCache\Model\Config::VARNISH && true === $isFpcEnabled)) { goto Bd71e; } goto B6905; ff5df: $cacheType = $this->config->getType(); goto Cbfba; c58b1: if (!$object instanceof \Magento\Framework\DataObject\IdentityInterface) { goto Cdc3b; } goto c1cfb; Bd5aa: Bd71e: goto e1929; Cbfba: $isFpcEnabled = $this->config->isEnabled(); goto b514f; e0531: $this->purgeCache->sendPurgeRequest($tags); goto B0248; c1cfb: $tags = $object->getIdentities(); goto c6b28; B6905: $object = $observer->getEvent()->getObject(); goto c58b1; B0248: f50d3: goto fdda1; c6b28: if (!count($tags)) { goto f50d3; } goto e0531; fdda1: Cdc3b: goto Bd5aa; e1929: } }
