<?php
 namespace Mgt\Varnish\Model\ResourceModel; class Url extends \Magento\Framework\Model\ResourceModel\Db\AbstractDb { protected function _construct() { $this->_init("\x6d\x67\x74\x5f\x76\141\x72\x6e\x69\x73\150\x5f\165\x72\x6c", "\x75\162\x6c\x5f\151\x64"); } public function loadByStoreIdAndPath($object, $storeId, $path) { goto C3b6e; Eba46: $object->setData($data); goto B02bb; E273f: return $this; goto Fdda4; Dae2e: $select = $connection->select()->from(["\x6d\147\x74\166\165" => $this->getMainTable()])->where("\155\x67\x74\166\165\x2e\x73\164\x6f\x72\145\137\151\144\75\77", $storeId)->where("\155\147\x74\x76\165\x2e\160\141\x74\x68\x3d\x3f", $path)->limit(1); goto B8ef6; Ba5a8: if (!$data) { goto a7f0f; } goto Eba46; b7624: $this->_afterLoad($object); goto E273f; B02bb: a7f0f: goto b7624; B8ef6: $data = $connection->fetchRow($select); goto Ba5a8; C3b6e: $connection = $this->getConnection(); goto Dae2e; Fdda4: } public function saveTags($object, array $tags) { goto E5a99; b8b04: foreach ($tags as $tag) { $data[] = ["\x75\x72\x6c\137\x69\144" => $urlId, "\x74\141\147" => $tag]; d22b8: } goto A3859; A3859: d0468: goto Eb2d7; d9b88: $urlId = $object->getId(); goto ab425; F89be: $connection = $this->getConnection(); goto d9b88; Eb2d7: $tagTable = $this->getTable("\x6d\x67\x74\x5f\x76\x61\162\x6e\151\163\x68\137\165\x72\154\x5f\164\x61\147"); goto B5e17; E5a99: if (!count($tags)) { goto cf37c; } goto F89be; ab425: $data = []; goto b8b04; b0ff1: cf37c: goto Ad69a; B5e17: $connection->insertMultiple($tagTable, $data); goto b0ff1; Ad69a: } public function deleteExpiredUrls() { goto cdb07; cdb07: $now = new \DateTime("\156\x6f\167", new \DateTimeZone("\x55\124\x43")); goto Fe319; D661e: $connection->delete($table, ["\x63\x61\x63\150\145\x5f\145\170\160\151\162\x65\144\x5f\141\x74\x20\74\40\x3f" => $now]); goto ca505; b08b0: $table = $this->getTable("\x6d\147\x74\137\x76\141\x72\x6e\151\163\x68\x5f\165\x72\x6c"); goto Af454; Af454: $connection = $this->getConnection(); goto D661e; Fe319: $now = $now->format("\131\x2d\155\55\x64\40\x48\x3a\151\72\x73"); goto b08b0; ca505: } }
